import org.yaml.snakeyaml.DumperOptions;
import org.yaml.snakeyaml.Yaml;
import org.yaml.snakeyaml.representer.Representer;
import java.io.StringWriter;
import java.util.Map;

public class YamlSerializationExample {

    public static void main(String[] args) {
        // Exemplo de dados YAML
        String yamlInput = "Server:\n  shtdown: \"immediate\"";

        // Carregar o YAML em um objeto Map
        Yaml yaml = new Yaml();
        Map<String, Object> data = yaml.load(yamlInput);

        // Configurar as opções do Dumper
        DumperOptions options = new DumperOptions();
        options.setDefaultScalarStyle(DumperOptions.ScalarStyle.DOUBLE_QUOTED);
        options.setPrettyFlow(true);

        // Criar um Representer personalizado
        Representer representer = new Representer();
        representer.setDefaultScalarStyle(DumperOptions.ScalarStyle.DOUBLE_QUOTED);

        // Criar uma instância do Yaml com as opções configuradas
        Yaml yamlWithQuotes = new Yaml(representer, options);

        // Serializar o objeto Map de volta para YAML
        StringWriter writer = new StringWriter();
        yamlWithQuotes.dump(data, writer);
        String yamlOutput = writer.toString();

        // Exibir o YAML serializado
        System.out.println(yamlOutput);
    }
}
