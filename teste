@ExtendWith(MockitoExtension.class)
class JourneyServiceTest {

    @Mock
    private RestTemplate restTemplate;

    @Mock
    private DemandaReservaService demandaReservaService;

    @Mock
    private DemandaReservaRepository demandaReservaRepository;

    @Mock
    private ConjuntoComponenteMapper conjuntoComponenteMapper;

    private JourneyService journeyService;

    @BeforeEach
    void setUp() {
        // Mockamos o próprio JourneyService manualmente
        journeyService = Mockito.mock(JourneyService.class);

        // Configuramos o comportamento esperado para o método
        doReturn(new JourneyDTO("journey123", "CC001", "12345678901", "Open", "Active"))
                .when(journeyService).fetchJourneysInApiServiceNow("journey123");
    }

    @Test
    void shouldNotCallRealMethod() {
        // Act
        JourneyDTO result = journeyService.fetchJourneysInApiServiceNow("journey123");

        // Assert
        assertNotNull(result);
        assertEquals("journey123", result.getId());

        // Verifica se o método foi chamado, mas apenas o mock
        verify(journeyService, times(1)).fetchJourneysInApiServiceNow("journey123");
    }
}
