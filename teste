helm lint ./charts/picpay-ms-v2-qa -f values.qa.yaml

helm template ms-edi-pix ./charts/picpay-ms-v2-qa \
  -f values.qa.yaml \
  --namespace ms-edi-pix > /tmp/render.yaml


gabriel.bbatista@PPM-JAMF-32830 chart % kubectl create ns argo-rollouts 2>/dev/null || true
kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/latest/download/install.yaml
namespace/argo-rollouts created
customresourcedefinition.apiextensions.k8s.io/analysisruns.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/analysistemplates.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/clusteranalysistemplates.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/experiments.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/rollouts.argoproj.io created
serviceaccount/argo-rollouts created
clusterrole.rbac.authorization.k8s.io/argo-rollouts created
clusterrole.rbac.authorization.k8s.io/argo-rollouts-aggregate-to-admin created
clusterrole.rbac.authorization.k8s.io/argo-rollouts-aggregate-to-edit created
clusterrole.rbac.authorization.k8s.io/argo-rollouts-aggregate-to-view created
clusterrolebinding.rbac.authorization.k8s.io/argo-rollouts created
configmap/argo-rollouts-config created
secret/argo-rollouts-notification-secret created
service/argo-rollouts-metrics created
deployment.apps/argo-rollouts created
gabriel.bbatista@PPM-JAMF-32830 chart % helm upgrade --install ms-edi-pix . -f values.qa.yaml --namespace ms-edi-pix
Release "ms-edi-pix" does not exist. Installing it now.
Error: unable to build kubernetes objects from release manifest: [resource mapping not found for name: "edi-pix-default" namespace: "ms-edi-pix" from "": no matches for kind "ExternalSecret" in version "external-secrets.io/v1beta1"
ensure CRDs are installed first, resource mapping not found for name: "envs-secretstore-default" namespace: "ms-edi-pix" from "": no matches for kind "SecretStore" in version "external-secrets.io/v1beta1"
ensure CRDs are installed first, resource mapping not found for name: "edi-pix-jvm-metrics-service-monitor" namespace: "" from "": no matches for kind "ServiceMonitor" in version "monitoring.coreos.com/v1"
ensure CRDs are installed first]
gabriel.bbatista@PPM-JAMF-32830 chart % 
